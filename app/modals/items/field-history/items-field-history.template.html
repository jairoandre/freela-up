<div class="modal-header">
  <button type="button" class="close" ng-click="close()">&times;</button>
  <h4 class="modal-title">Histórico do campo: {{ field.label }}</h4>
</div>

<div class="modal-body">
  <div class="item-history">

    <div class="filters">
      <div class="filter period col-xs-3">
        <div class="btn-group">
          <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown" aria-expanded="false">
          <span class="pull-left">Por período</span> <span class="pull-right"><span class="caret"></span></span>
          </button>

          <ul class="dropdown-menu" role="menu">
            <li ng-repeat="filter in availableHistoryDateFilters" ng-class="{'active': filter.selected }"><a href="" ng-click="selectDateFilter(filter)">{{ filter.name }}</a></li>
            <li class="divider"></li>
            <li ng-class="{ 'active': showCustomDateHelper }"><a href="" ng-click="showCustomDateFields()">Por período</a></li>
          </ul>
        </div>
      </div>

      <div class="filter datepicker col-xs-2 pages-animation" ng-show="showCustomDateHelper">
        <input type="text" class="form-control" datepicker-popup="dd/MM/yyyy" ng-model="$parent.historyFilterBeginDate" show-weeks="false" show-button-bar="false" ng-change="refreshHistory()" />
      </div>

      <span class="filter until col-xs-1 pages-animation" ng-show="showCustomDateHelper">até</span>

      <div class="filter datepicker last col-xs-2" ng-show="showCustomDateHelper">
        <input type="text" class="form-control" datepicker-popup="dd/MM/yyyy" ng-model="$parent.historyFilterEndDate" show-weeks="false" show-button-bar="false" ng-change="refreshHistory()" />
      </div>

      <div class="clearfix"></div>
    </div>

    <div class="timeline">

      <div class="gradient"></div>

      <div class="loadingHistoryLogs pages-animation" ng-show="loadingHistoryLogs"><span></span></div>

      <div class="empty" ng-show="historyLogs.length === 0"><p>Não há alterações cadastradas.</p></div>

      <div class="line"><span></span></div>

      <div class="log" ng-repeat="log in historyLogs">
        <div class="date">
          <span>{{ log.created_at | date:'dd/MM/yy'}}</span>
        </div>

        <div class="action">
          <p ng-if="isArray(log.changes.new_content) === false">
            {{ log.changes.new_content }}
          </p>

          <div ng-if="isArray(log.changes.new_content) === true">
            <ul>
              <li ng-repeat="content in log.changes.new_content">{{ content }}</li>
            </ul>
          </div>

          <div class="author">Alterado por <a ng-href="#/users/{{ log.user.id }}">{{ log.user.name }}</a> </div>

          <div class="divider"></div>
        </div>

        <div class="clearfix"></div>
      </div>

    </div>

  </div>
</div>
