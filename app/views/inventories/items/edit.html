<div id="full_page" class="items-edit">
  <div class="header">
    <a href="#/inventories" class="back"><span class="glyphicon glyphicon-chevron-left"></span></a>

    <div class="title" ng-show="!updating">Novo item de invent√°rio</div>
    <div class="title" ng-show="updating">Editar item: {{ item.title }}</div>

    <div ng-show="showSystemMessage" class="message-status fade-animation" ng-class="systemMessage.messageClass">
      <p><span class="glyphicon glyphicon-{{ systemMessage.icon }}"></span> {{ systemMessage.text }}</p>
    </div>

    <a href="" ng-click="send()" class="submit_button"><span ng-show="!updating">Cadastrar</span><span ng-show="updating">Atualizar</span></a>
  </div>

  <div class="spacing"></div>

  <div class="loading" ng-show="loading"></div>

  <form class="pages-animation" ng-hide="loading">
    <div class="big_content_darker">

      <div class="rounder_wrapper errors" ng-show="inputErrors">
        <div class="alert alert-danger fade-animation">
          <p ng-bind-html="inputErrors | formatErrors"></p>
        </div>
      </div>

      <div class="rounder_wrapper" ng-repeat="section in category.sections">
        <div class="title"><h1>{{ section.title }} <span ng-show="section.required == true">*</span></h1></div>

        <div class="fields">

          <!-- show custom lat/lng fields -->
          <div ng-show="section.location == true">
            <div class="row">
              <!-- latitude field -->
              <div class="col-xs-4">
                <div class="form-group">
                  <label for="generic_input_{{ latLngIds[0] }}">
                    Latitude
                  </label>

                  <input class="form-control" id="generic_input_{{ latLngIds[0] }}" type="text" ng-model="itemData[latLngIds[0]]" generic-input name="latitude">
                </div>
              </div>

              <!-- longitude field -->
              <div class="col-xs-4">
                <div class="form-group">
                  <label for="generic_input_{{ latLngIds[1] }}">
                    Longitude
                  </label>

                  <input class="form-control" id="generic_input_{{ latLngIds[1] }}" type="text" ng-model="itemData[latLngIds[1]]" generic-input name="longitude">
                </div>
              </div>

              <!-- modal button -->
              <div class="col-xs-4">
                <a href="" ng-click="openMapModal()" class="btn btn-info btn-fat-custom btn-custom" style="margin-top: 25px;">Localizar no mapa</a>
              </div>
            </div>
          </div>

          <!-- show normal fields -->
          <div class="form-group" ng-repeat="field in section.fields | orderBy:'position'" ng-hide="hiddenFields.indexOf(field.id) !== -1">
            <label for="generic_input_{{ field.id }}">
              <span ng-show="field.label !== null">{{ field.label }}</span>
              <span ng-show="field.label == null">{{ field.title }}</span>
              <span ng-show="field.required == true"> *</span>
            </label>

            <input class="form-control" id="generic_input_{{ field.id }}" type="text" ng-show="field.kind == 'text'" ng-model="itemData[field.id]" generic-input name="{{ field.title }}">

            <input class="form-control" id="generic_input_{{ field.id }}" type="text" ng-show="field.kind == 'integer'" ng-model="itemData[field.id]" generic-input name="{{ field.title }}" style="width: 20%;">

            <div ng-show="field.kind == 'checkbox'">
              <div class="checkbox" ng-repeat="value in field.available_values">
                <label>
                  <input type="checkbox" ng-model="itemData[field.id][value]">
                  {{ value }}
                </label>
              </div>
            </div>

            <div ng-show="field.kind == 'radio'">
              <div class="radio" ng-repeat="value in field.available_values">
                <label>
                  <input type="radio" ng-model="itemData[field.id]" ng-value="value">
                  {{ value }}
                </label>
              </div>
            </div>

            <div ng-show="field.kind == 'images'">
              <div class="upload btn btn-default btn-upload">
                  <span>Selecione o arquivo</span>

                  <input ng-file-select type="file" multiple  />
              </div>

              <div class="queue">
                <div class="image" ng-repeat="item in uploader.queue">
                  <div ng-show="uploader.isHTML5" ng-thumb="{ file: item.file, width: 150, height: 150 }"></div>

                  <span ng-show="!uploader.isHTML5">{{ item.file.name }}</span>

                  <button type="button" ng-click="item.remove()">
                    <span class="glyphicon glyphicon-trash"></span>
                  </button>
                </div>

                <div ng-show="uploader.isHTML5" class="drop-zone" ng-file-over>
                  <span>Ou arraste a imagem aqui</span>
                </div>
              </div>
            </div>

          </div>
        </div>
      </div>

      <div class="clearfix"></div>
    </div>
  </form>
</div>
