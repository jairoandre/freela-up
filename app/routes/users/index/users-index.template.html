<div class="title">
  <ul>
    <li>Usuários</li>
  </ul>

  <a href="#/users/add" class="btn btn-info btn-custom">+ Novo usuário</a>
</div>

<div class="simple_search">
  <div class="col-md-8 search_column1">
    <span class="glyphicon glyphicon-search search_icon"></span>
    <input type="text" placeholder="Buscar usuários..." keyboard-poster="search" />
  </div>

  <div class="col-md-4 filter_dropdown_c">
    <div class="filter_dropdown">
      <div class="btn-group">
        <button type="button" class="btn btn-default dropdown-toggle" data-toggle="dropdown">
        <span ng-show="!groupId">Grupo</span><span ng-repeat="group in groups" ng-hide="groupId != group.id">{{ group.name }}</span> <span class="pull-right"><span class="caret"></span></span>
        </button>

        <ul class="dropdown-menu pull-right" role="menu">
          <li ng-repeat="group in groups" ng-class="{active: groupId == group.id}"><a href="#/users/group/{{ group.id }}">{{ group.name }}</a></li>
          <li class="divider"></li>
          <li ng-class="{active: !groupId}"><a href="#/users">Todos</a></li>
        </ul>
      </div>
    </div>
  </div>
</div>

<table class="table custom_table" ng-hide="loadingContent" infinite-scroll="getData(true)" infinite-scroll-distance="3">
  <thead>
    <tr>
      <td ng-click="changeSorting('name')"
          ng-class="selectedCls('name')" class="sort-table">
        <span>Nome</span><span class="arrow"></span>
      </td>
      <td ng-click="changeSorting('email')"
          ng-class="selectedCls('email')" class="sort-table">
        <span>E-mail</span><span class="arrow"></span>
      </td>
      <td ng-click="changeSorting('phone')"
          ng-class="selectedCls('phone')" class="sort-table">
        <span>Telefone</span><span class="arrow"></span></td>
      <td>Grupo(s)</td>
      <td></td>
    </tr>
  </thead>

  <tr ng-repeat="user in users | orderBy:sort.column:sort.descending">
    <td><a href="#/users/{{ user.id }}">{{ user.name }}</a></td>
    <td>{{ user.email }}</td>
    <td>{{ user.phone }}</td>
    <td><span ng-repeat="group in user.groups_names"><span ng-hide="$index == 0">,</span> {{ group }}</span> </td>
    <td class="actions">
      <a class="icon_action" href="#/users/{{ user.id }}/edit"><span class="glyphicon glyphicon-edit"></span></a>
      <a class="icon_action" href="" ng-click="deleteUser(user)"><span class="glyphicon glyphicon-trash"></span></a>
    </td>
  </tr>
</table>

<div class="loadingScrolling" ng-show="loadingPagination && !loadingContent"></div>
