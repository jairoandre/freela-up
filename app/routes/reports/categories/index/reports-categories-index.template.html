<div class="loading" ng-show="loading"></div>

<div ng-hide="loading" class="pages-animation">
  <div class="title">
    <ul>
      <li><a href="#/reports">Relatos</a></li>
      <li>Gerenciar categorias</li>
    </ul>

    <a href="#/reports/categories/add" class="btn btn-info btn-custom">+ Nova categoria</a>
  </div>

  <table class="table custom_table big_text">
    <tbody ng-repeat="category in categories">
      <tr>
        <td><img ng-src="{{ category.icon.default.web.active }}" width="50" class="category-icon"> <a href="#/reports/categories/{{ category.id }}/edit">{{ category.title }}</a></td>
        <td width="90">
          <a href="#/reports/categories/{{ category.id }}/edit"><span class="glyphicon glyphicon-edit"></span></a>
          <a href="" ng-click="deleteCategory(category)"><span class="glyphicon glyphicon-trash"></span></a>
        </td>
      </tr>

      <tr ng-repeat="subCategory in category.subcategories" class="subrow">
        <td><img ng-src="{{ subCategory.icon.default.web.active }}" width="30" class="category-icon"> <span class="sub-tag"></span>  <a href="#/reports/categories/{{ subCategory.id }}/edit" ng-hide="!hasPermission('reports_categories_can_edit', subCategory.id)">{{ subCategory.title }}</a><span ng-show="!hasPermission('reports_categories_can_edit', subCategory.id)">{{ subCategory.title }}</span></td>
        <td width="90" ng-hide="!hasPermission('reports_categories_can_edit', subCategory.id)">
          <a href="#/reports/categories/{{ subCategory.id }}/edit"><span class="glyphicon glyphicon-edit"></span></a>
          <a href="" ng-click="deleteCategory(subCategory)"><span class="glyphicon glyphicon-trash"></span></a>
        </td>
        <td ng-show="!hasPermission('reports_categories_can_edit', subCategory.id)"></td>
      </tr>
    </tbody>
  </table>
</div>
