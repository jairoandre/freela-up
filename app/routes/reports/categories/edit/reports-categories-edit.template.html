<div class="loading" ng-show="loading"></div>

<div ng-hide="loading" class="custom-manage-category pages-animation">
  <div class="title">
    <ul>
      <li><a href="#/reports">Relatos</a></li>
      <li><a href="#/reports/categories">Gerenciar categorias</a></li>
      <li><span ng-hide="updating">Nova categoria</span><span ng-show="updating">{{ category.title }}</span></li>
    </ul>
  </div>

  <div class="content bigPadding">
    <h3>Informações da categoria</h3>

    <div class="alert alert-danger fade-animation" ng-show="inputErrors">
      <p ng-bind-html="inputErrors | formatErrors"></p>
    </div>

    <form ng-submit="send()">

      <div style="width: 90%">
        <div class="form-group">
          <label for="form_name">Nome da categoria</label>
          <input type="text" class="form-control input-lg" id="form_name" ng-model="category.title" generic-input name="title">
        </div>

        <div class="form-group">
          <label>Categoria de inventário relacionada</label>

          <div class="selectUsers">

            <div class="ui-widget">
              <span class="search_icon"></span>
              <input type="text" placeholder="Buscar categorias de inventário..." ng-model="inventories_autocomplete" ui-autocomplete="categoriesAutocomplete" class="ui-autocomplete-input">
            </div>

            <ul>
              <li ng-repeat="id in category.inventory_categories"><span ng-repeat="category in categories" ng-show="category.id == id">{{ category.title }}</span> <button type="button" class="remove" ng-click="removeCategory(id)">&times;</button></li>
            </ul>
          </div>

          <!--<select multiple class="form-control" ng-model="category.inventory_categories" ng-options="category.id as category.title for category in categories">
          </select>-->
        </div>

        <div class="form-group">
          <label>Ícone de categoria</label>

          <div class="icons">
            <a href="" ng-click=""><img src="assets/images/icons/icon_A1.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A10.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A11.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A12.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A13.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A14.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A15.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A16.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A2.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A3.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A4.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A5.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A6.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A7.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A8.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_A9.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_B1.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_B10.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_B2.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_B3.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_B4.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_B5.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_B6.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_B7.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_B8.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_B9.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_C1.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_C2.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_C3.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_C4.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_C5.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_C6.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_C7.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_C8.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_C9.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_D1.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_D10.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_D11.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_D2.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_D3.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_D4.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_D5.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_D6.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_D7.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_D8.png" /></a>
            <a href="" ng-click=""><img src="assets/images/icons/icon_D9.png" /></a>

            <a href="" class="no-animation" ng-click="showMoreIcons = true" ng-show="!showMoreIcons"><p>Ver mais</p></a>

            <span ng-if="showMoreIcons">
              <a href="" ng-click=""><img src="assets/images/icons/icon_E1.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_E2.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_E3.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_E4.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_E5.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_E6.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_E7.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_F1.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_F2.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_F3.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_F4.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_F5.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_G1.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_G10.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_G11.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_G12.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_G2.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_G3.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_G4.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_G5.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_G6.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_G7.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_G8.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_G9.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H1.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H10.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H11.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H12.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H13.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H14.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H15.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H16.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H17.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H18.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H19.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H2.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H20.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H3.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H4.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H5.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H6.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H7.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H8.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_H9.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I1.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I10.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I11.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I12.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I13.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I14.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I2.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I3.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I4.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I5.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I6.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I7.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I8.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_I9.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_J1.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_J2.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_J3.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_J4.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_J5.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_J6.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_J7.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_J8.png" /></a>
              <a href="" ng-click=""><img src="assets/images/icons/icon_J9.png" /></a>
            </span>

            <div class="clearfix"></div>
          </div>

          <div class="row">
            <div class="col-md-2">
              <div class="btn btn-default btn-upload">
                  <span><i class="glyphicon glyphicon-open"></i> Enviar ícone</span>

                  <input nv-file-select uploader="uploader" type="file"  />
              </div>
            </div>

            <div class="col-md-10">
              <p>Caso não tenha encontrado nenhum ícone que sirva a sua categoria, você pode enviar um arquivo de 60x60 px, na cor branca com fundo transparente e no formato PNG.</p>
            </div>
          </div>
        </div>

        <!--<div class="form-group upload">
          <label>Ícone da categoria <span>(60x60px)</span></label>

          <div class="queue">
            <div ng-show="uploader.isHTML5" class="drop-zone" nv-file-over uploader="uploader" ng-style="{'background-color': category.color}">
              <span ng-show="uploader.queue.length == 0" ng-hide="icon">Arraste o ícone</span>

              <div class="image" ng-show="icon && uploader.queue.length == 0">
                <img ng-src="{{ icon }}" width="65" height="65">
              </div>

              <div class="image" ng-repeat="item in uploader.queue">
                <div ng-thumb="{ file: item._file, width: 60, height: 60 }"></div>
              </div>
            </div>
          </div>

          <div class="btn btn-default btn-upload">
              <span>Selecione um arquivo</span>

              <input nv-file-select uploader="uploader" type="file" multiple  />
          </div>
        </div>

        <div class="form-group">
          <label>Cor representativa</label>
          <div class="row">
            <div class="col-md-2" generic-input name="color">
              <button colorpicker type="button" colorpicker-position="top" class="btn btn-colorpicker" ng-model="category.color" ng-style="{'background-color': category.color}"></button>
            </div>
          </div>
        </div>
      </div>-->

      <hr />

      <h3>Configurações de relato</h3>

      <div class="form-group">
        <label>Tempo de resolução do relato</label>
        <div class="row">
          <div class="col-md-1">
            <input type="text" class="form-control input-lg" ng-model="category.resolution_time" generic-input name="resolution_time">
          </div>

          <div class="col-md-2" style="padding: 0px;">
            <div class="btn-group">
              <button type="button" class="btn btn-default dropdown-custom-small dropdown-toggle input-lg" data-toggle="dropdown">
              <span ng-show="defaultResolutionTimeSelection == 60">Minutos</span> <span ng-show="defaultResolutionTimeSelection == 3600">Horas</span> <span class="pull-right"><span class="caret"></span></span>
              </button>

              <ul class="dropdown-menu" role="menu">
                <li ng-class="{active: defaultResolutionTimeSelection == 60}"><a href="" ng-click="defaultResolutionTimeSelection = 60">Minutos</a></li>
                <li ng-class="{active: defaultResolutionTimeSelection == 3600}"><a href="" ng-click="defaultResolutionTimeSelection = 3600">Horas</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <div class="form-group">
        <label generic-input name="statuses">Estados de relatos disponíveis <a href="" ng-click="manageStatuses()">(Gerenciar estados)</a></label>

        <ul class="statuses-list">
          <li ng-repeat="status in category.statuses"><span ng-style="{'background-color': status.color}"></span> {{ status.title }}</li>
        </ul>
      </div>

      <div class="form-group">
        <label>Permitir criar relatos em pontos livres</label>

        <div class="clearfix"></div>

        <input type="checkbox" bs-switch ng-model="category.allows_arbitrary_position">
      </div>

      <div class="form-group">
        <label>Categoria privada</label>

        <div class="clearfix"></div>

        <input type="checkbox" bs-switch ng-model="category.private">
      </div>

      <div class="form-group">
        <label>Feedback do usuário</label>
        <div class="row">
          <div class="col-md-2" style="padding-top: 9px;">
            <input type="checkbox" class="pull-right" bs-switch ng-model="enabledUserResponseTime">
          </div>

          <div class="col-md-1" style="padding: 0px;">
            <input type="text" class="form-control input-lg" ng-model="category.user_response_time" generic-input name="user_response_time" ng-show="enabledUserResponseTime">
          </div>

          <div class="col-md-2">
            <div class="btn-group" ng-show="enabledUserResponseTime">
              <button type="button" class="btn btn-default dropdown-custom-small dropdown-toggle input-lg" data-toggle="dropdown">
              <span ng-show="defaultUserResponseTimeSelection == 60">Minutos</span> <span ng-show="defaultUserResponseTimeSelection == 3600">Horas</span> <span class="pull-right"><span class="caret"></span></span>
              </button>

              <ul class="dropdown-menu" role="menu">
                <li ng-class="{active: defaultUserResponseTimeSelection == 60}"><a href="" ng-click="defaultUserResponseTimeSelection = 60">Minutos</a></li>
                <li ng-class="{active: defaultUserResponseTimeSelection == 3600}"><a href="" ng-click="defaultUserResponseTimeSelection = 3600">Horas</a></li>
              </ul>
            </div>
          </div>
        </div>
      </div>

      <hr />

      <button type="submit" class="btn btn-info btn-custom btn-lg-custom" ng-hide="updating">Criar categoria</button>

      <button type="submit" class="btn btn-info btn-custom btn-lg-custom" ng-show="updating">Atualizar categoria</button>

    </form>
  </div>
</div>
