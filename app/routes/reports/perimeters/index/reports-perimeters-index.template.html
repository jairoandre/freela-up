<div class="loading" ng-show="loading"></div>

<div ng-hide="loading" class="pages-animation">
  <div class="title">
    <ul>
      <li><a ng-href="#/reports">Relatos</a></li>
      <li><a ng-href="#/reports/categories">Gerenciar categorias</a></li>
      <li>Gerenciar perímetros/regiões</li>
    </ul>
  </div>
<div class="content">

    <div class="form-group">
      <a href="" ng-click="addPerimeter()" class="btn btn-info btn-custom btn-lg-custom">Cadastrar novo perímetro</a>
    </div>

    <h3>Perímetros/Regiões cadastrados</h3>

    <hr/>

    <div class="table-div">
      <table id="reports-perimeters-table" class="table custom_table perimeters-table">
        <thead>
        <tr>
          <td class="perimeter-title-cell">
            <span>Nome do Perímetro/Região</span>
          </td>
          <td class="perimeter-status-cell">
            <span>Status</span>
          </td>
          <td class="perimeter-date-cell">
            <span>Data de inclusão</span>
          </td>
          <td class="perimeter-btn-cell"></td>
        </tr>
        </thead>
        <tbody>
        <tr class="perimeter-table-tr" ng-repeat="perimeter in perimeters" >
          <td class="perimeter-title-cell" title="{{perimeter.title}}">
            <span inline-edit="perimeter.title" inline-edit-callback="updatePerimeter(perimeter, newValue)" inline-edit-on-click inline-edit-on-blur="save" inline-edit-btn-edit="" class="perimeter-span-title"></span>
          </td>
          <td class="perimeter-status-cell {{statusDecorator[perimeter.status][1]}}">
            <i class="glyphicon glyphicon-{{statusDecorator[perimeter.status][0]}}"></i>
            &nbsp;<span ng-bind="statusDecorator[perimeter.status][2]"></span>
          </td>
          <td class="perimeter-date-cell">
            {{perimeter.created_at | date : 'dd/MM/yy hh:mm'}}
          </td>
          <td class="perimeter-btn-cell">
            <a href="" confirm-dialog
               cd-modal-title="Remover perímetro/região"
               cd-item-title="perimeter.title"
               cd-confirm-function="deletePerimeter(perimeter)"
               cd-confirm-promise="deletePromise">
              <span class="glyphicon glyphicon-trash"></span></a>
          </td>
        </tr>
        </tbody>
      </table>
      <div class="perimeters-empty-message" ng-if="perimeters.length === 0">
        Nenhum perímetro cadastado.
      </div>



    </div>
  </div>


</div>
