<div class="loading" ng-show="loading"></div>

<div ng-hide="loading">
  <div class="title">
    <ul>
      <li><a ng-href="#/groups">Grupos</a></li>
      <li>{{ group.name }}</li>
    </ul>

    <div class="btn-group" ng-show="hasPermission('group_edit') || hasPermission('groups_full_access')">
      <a ng-href="#/groups/{{ group.id }}/edit" class="btn btn-info btn-custom-group">Gerenciar permissões</a>
      <a href="" ng-click="editGroup()" class="btn btn-info btn-custom-group">Editar nome</a>
    </div>

    <a href="" ng-show="hasPermission('group_edit') || hasPermission('groups_full_access')" ng-click="addUsers()" class="btn btn-info btn-custom">Adicionar usuários</a>
  </div>

  <div class="simple_search">
    <span class="glyphicon glyphicon-search search_icon"></span>
    <input type="text" placeholder="Buscar usuários..." keyboard-poster="search" />
  </div>


  <table class="table custom_table">
    <thead>
      <tr>
        <td ng-click="changeSorting('name')"
            ng-class="selectedCls('name')" class="sort-table">
          <span>Nome</span><span class="arrow"></span>
        </td>
        <td ng-click="changeSorting('email')"
            ng-class="selectedCls('email')" class="sort-table">
          <span>E-mail</span><span class="arrow"></span>
        </td>
        <td ng-click="changeSorting('phone')"
            ng-class="selectedCls('phone')" class="sort-table">
          <span>Telefone</span><span class="arrow"></span>
        </td>
        <td></td>
      </tr>
    </thead>

    <tr ng-repeat="user in users | orderBy:sort.column:sort.descending" infinite-scroll="getData(true)" infinite-scroll-distance="2">
      <td><a ng-href="#/users/{{ user.id }}">{{ user.name }}</a></td>
      <td>{{ user.email }}</td>
      <td>{{ user.phone }}</td>
      <td class="actions"><a href="" class="icon_action" ng-click="removeUserFromGroup(user)" tooltip="Remover usuário do grupo" ng-show="hasPermission('group_edit') || hasPermission('groups_full_access')"><span class="glyphicon glyphicon-trash"></span></a></td>
    </tr>

  </table>

  <div class="loadingScrolling" ng-show="(loadingPagination && !loadingContent) || loadingSearch"></div>
</div>
