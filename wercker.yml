box: wercker/nodejs
build:
    steps:
        - script:
            name: install compass
            code: sudo gem install compass --no-ri --no-rdoc
        - script:
            name: install grunt
            code: sudo npm install -g grunt-cli
        - script:
            name: install bower
            code: sudo npm install -g bower
        - script:
            name: create frontend folder
            code: mkdir frontend
        - script:
            cwd: frontend/
            name: install npm dependencies
            code: |
                mkdir -p $WERCKER_CACHE_DIR/wercker/npm
                npm config set cache $WERCKER_CACHE_DIR/wercker/npm
                sudo npm install --save-dev
        - script:
            cwd: frontend/
            name: install bower dependencies
            code: bower -f install
        - script:
            cwd: frontend/
            name: build project using grunt
            code: grunt build
        - script:
            name: echo nodejs information
            code: |
                echo "node version $(node -v) running"
                echo "npm version $(npm -v) running"
